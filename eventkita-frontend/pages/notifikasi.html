<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Notifikasi</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body onload="loadNotifs()">
  <nav class="topnav">
    <div><a href="user-dashboard.html">‚Üê Back</a></div>
    <div><button onclick="logout()">Logout</button></div>
  </nav>

  <div class="container">
    <h2>Notifikasi</h2>
    <div id="notifList"></div>
  </div>

  <script src="js/api.js"></script>
  <script src="js/guard.js"></script>
  <script>
    async function loadNotifs(){
      if(!requireLogin()) return;
      const notifs = await apiGet('/notifications/me', true);
      const wrap = document.getElementById('notifList');
      wrap.innerHTML = '';
      (notifs || []).forEach(n => {
        wrap.innerHTML += `<div class="notif">
          <h4>${n.title}</h4>
          <p>${n.message}</p>
          <small>${n.createdAt || n.created}</small>
        </div>`;
      });
    }
  </script>
</body>
</html>
